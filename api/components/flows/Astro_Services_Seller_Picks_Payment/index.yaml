summary: Astrology Services - Sellers (BPP) collects Payment
description: The following is an illustrative flow to perform a transaction of a nature where a buyer would like to request for Astrology services - Pooja. The booking majorly happens in four phases of order processing flow, i.e. Discovery of available services and service providers based on serviceability, order, fulfillment and post-fulfillment.
details:
  - description: Initializing the order
    mermaidGraph: >-
      sequenceDiagram
        participant B as Buyer
        participant BA as BuyerApp
        participant SA as SellerApp      
        Note Over B,SA: **INITIALIZATION FLOW**
        B ->> BA: Proceeds with the Order
        BA ->> SA: **/init** - Initializes the order and <br>sends billing details, patient details
        SA ->> BA: **/on_init** - Order initialization with <br>fulfillment & settlement information <br>including UPI or NEFT/IMPS/Bank Transfer and payment link
        BA ->> B: Renders payment link
        B ->> BA: Pays payment
        BA -->> SA: Payment received by Seller
        SA ->> BA: **/on_status** - Confirms that the payment has been received
        BA ->> B: Confirms initialization
  - description: Order Confirmation
    mermaidGraph: >-
      sequenceDiagram
        participant B as Buyer
        participant BA as BuyerApp
        participant SA as SellerApp
        Note Over B,SA: **CONFIRMATION FLOW**
        B ->> BA: Confirms the Order
        BA ->> SA: **/confirm** - Confirms the order by paying to create final digital contract
        SA ->> BA: **/on_confirm** - Accepts the order 
        BA ->> B: Confirms order

reference: if any
steps:
  - summary: Buyer initialises the order for service
    api: init
    description: Buyer initialises the order and provides billing details
    reference: if any
    example:
      $ref: "../../Examples/Astro_services_yaml/init/init.yaml"
  - summary: Seller provides the final quotation for the service
    api: on_init
    description: Seller provides the final quotation with payment link
    reference: if any
    example:
      $ref: "../../Examples/Astro_services_yaml/on_init/on_init_seller_link.yaml"
  - summary: Seller confirms payment received
    api: on_status
    description: Seller confirms the payment has been received
    reference: if any
    example:
      $ref: "../../Examples/Astro_services_yaml/on_status/on_status_seller_payment.yaml"
  - summary: Buyer confirms the order
    api: confirm
    description: Buyer confirms the order by paying the amount
    reference: if any
    example:
      $ref: "../../Examples/Astro_services_yaml/confirm/confirm_seller_payment.yaml"
